(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1106:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(583).configure)([__webpack_require__(1107),__webpack_require__(1108)],module,!1)}).call(this,__webpack_require__(412)(module))},1107:function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=1107},1108:function(module,exports,__webpack_require__){var map={"./stories/Editor.stories.tsx":1333};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1108},1322:function(module,exports,__webpack_require__){var api=__webpack_require__(41),content=__webpack_require__(1323);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},1323:function(module,exports,__webpack_require__){(exports=__webpack_require__(42)(!1)).push([module.i,".editor-container {\n\ttext-align: left;\n\theight: 30em;\n}\n",""]),module.exports=exports},1333:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"VTL20",(function(){return VTL20})),__webpack_require__.d(__webpack_exports__,"JSON",(function(){return Editor_stories_JSON}));__webpack_require__(50),__webpack_require__(1109),__webpack_require__(311),__webpack_require__(101),__webpack_require__(105),__webpack_require__(63),__webpack_require__(191),__webpack_require__(98),__webpack_require__(106),__webpack_require__(115),__webpack_require__(138),__webpack_require__(44),__webpack_require__(199);var react=__webpack_require__(2),editor_main=__webpack_require__(225),editor_api=(__webpack_require__(178),__webpack_require__(54),__webpack_require__(60),__webpack_require__(1246),__webpack_require__(175),__webpack_require__(176),__webpack_require__(676),__webpack_require__(76)),lib=__webpack_require__(731),browser=(__webpack_require__(124),__webpack_require__(75),__webpack_require__(309),__webpack_require__(129),__webpack_require__(185),__webpack_require__(143),__webpack_require__(149),__webpack_require__(404),__webpack_require__(99),__webpack_require__(100),__webpack_require__(385),__webpack_require__(88),__webpack_require__(447),__webpack_require__(216),__webpack_require__(633),__webpack_require__(137),__webpack_require__(727)),browser_default=__webpack_require__.n(browser);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var MultiplyMode,log_Log=function(){function Log(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Log)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Log,null,[{key:"message",value:function message(level,_message,source){var namespace="VRM: ".concat(level),logger=browser_default()(namespace);logger.color=Log.colors[level],source?logger(source,_message):logger(_message)}},{key:"info",value:function info(message,source){return Log.message("info",message,source)}},{key:"warn",value:function warn(message,source){return Log.message("warning",message,source)}},{key:"error",value:function error(message,source){return Log.message("error",message,source)}}]),Log}();function mergeMultiplyMode(first,second){return first!==second&&second!==MultiplyMode.None?first===MultiplyMode.None?second:MultiplyMode.Zeromore:first}log_Log.colors={info:"lightblue",warning:"orange",error:"red"},function(MultiplyMode){MultiplyMode[MultiplyMode.None=0]="None",MultiplyMode[MultiplyMode.Optional=1]="Optional",MultiplyMode[MultiplyMode.Onemore=2]="Onemore",MultiplyMode[MultiplyMode.Zeromore=3]="Zeromore"}(MultiplyMode||(MultiplyMode={}));__webpack_require__(515);var TokenType,antlr4ts=__webpack_require__(336);function ruleToken_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}!function(TokenType){TokenType.Space=" ",TokenType.Lparen="(",TokenType.Rparen=")",TokenType.Question="?",TokenType.Star="*",TokenType.Plus="+",TokenType.Pipe="|",TokenType.Hash="#",TokenType.Assign="=",TokenType.PlusAssign="+=",TokenType.Keyword="k",TokenType.Operator="o",TokenType.Operand="d",TokenType.Identifier="i",TokenType.Label="l",TokenType.Rule="r",TokenType.Unknown="u"}(TokenType||(TokenType={}));var ruleToken_RuleToken=function(){function RuleToken(type,nested,name,value){!function ruleToken_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,RuleToken),this.type=void 0,this.name=void 0,this.value=void 0,this.identifier=void 0,this.nested=0,this.multiplied=MultiplyMode.None,this.greedy=!0,this.sibling=void 0,this.type=type,nested&&(this.nested=nested),name&&(this.name=name),value&&(this.value=value)}return function ruleToken_createClass(Constructor,protoProps,staticProps){return protoProps&&ruleToken_defineProperties(Constructor.prototype,protoProps),staticProps&&ruleToken_defineProperties(Constructor,staticProps),Constructor}(RuleToken,[{key:"multiply",value:function multiply(type){var multiplied;switch(type){case TokenType.Question:multiplied=MultiplyMode.Optional;break;case TokenType.Plus:multiplied=MultiplyMode.Onemore;break;case TokenType.Star:multiplied=MultiplyMode.Zeromore;break;default:return}this.multiplied!==multiplied&&(this.multiplied=this.multiplied===MultiplyMode.None?multiplied:MultiplyMode.Zeromore)}},{key:"label",value:function label(identifier){this.identifier=identifier}},{key:"isAssign",value:function isAssign(){return this.type===TokenType.Assign||this.type===TokenType.PlusAssign}},{key:"isAtom",value:function isAtom(){return this.type===TokenType.Keyword||this.type===TokenType.Operator||this.type===TokenType.Operand||this.type===TokenType.Rule||this.type===TokenType.Unknown}}]),RuleToken}();function ruleTokenizer_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var StatementType,rgxEscape=/[-/\\^$*+?.()|[\]{}]/g,ruleTokenizer_RuleTokenizer=function(){function RuleTokenizer(vocabulary){!function ruleTokenizer_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,RuleTokenizer),this.vocabulary=void 0,this.context={tokens:[],parens:[],atom:[],modifier:void 0},this.vocabulary=vocabulary}return function ruleTokenizer_createClass(Constructor,protoProps,staticProps){return protoProps&&ruleTokenizer_defineProperties(Constructor.prototype,protoProps),staticProps&&ruleTokenizer_defineProperties(Constructor,staticProps),Constructor}(RuleTokenizer,[{key:"tokenize",value:function tokenize(declaration){var _this=this;return this.clearContext(),Array.from(declaration).forEach((function(value,index){if(!_this.isAtom(value,index)&&!_this.isModifier(value,index))switch(value){case TokenType.Lparen:var token=new ruleToken_RuleToken(TokenType.Lparen,_this.context.parens.length);_this.context.parens.push(token),_this.context.tokens.push(token);break;case TokenType.Rparen:var lparen=_this.context.parens.pop();if(lparen){var lindex=_this.context.tokens.indexOf(lparen);if(lindex!==_this.context.tokens.length-2){var rparen=new ruleToken_RuleToken(TokenType.Rparen,_this.context.parens.length);lparen.sibling=rparen,rparen.sibling=lparen,_this.context.tokens.push(rparen)}else{var last=_this.lastToken();last&&last.nested--,_this.context.tokens.splice(lindex,1)}}else _this.unexpected(value,index);break;case TokenType.Pipe:_this.addToken(value);break;case TokenType.Assign:var _last=_this.lastToken([TokenType.Unknown]);_last&&(_last.type=TokenType.Identifier,_this.addToken(value),log_Log.warn("Unknown operator token "+_last.name+" recognized as identifier","RuleTokenizer"));break;case TokenType.Hash:_this.addToken(value);break;case TokenType.Space:_this.finishAtom(index);break;default:_this.unexpected(value,index)}})),this.finishAtom(declaration.length),this.context.tokens}},{key:"isAtom",value:function isAtom(value,index){return/[a-zA-Z_0-9]/.test(value)?(this.context.atom.push(value),!0):(this.finishAtom(index),!1)}},{key:"isModifier",value:function isModifier(value,index){if(/[*+?]/.test(value)){var last=this.lastToken([TokenType.Keyword,TokenType.Operator,TokenType.Operand,TokenType.Rule,TokenType.Rparen,TokenType.Unknown]);return this.context.modifier?(value===TokenType.Question&&last?last.greedy=!1:this.unexpected(value,index),this.finishModifier()):last?(last.multiply(value),this.context.modifier=value):this.unexpected(value,index),!0}return this.finishModifier(),!1}},{key:"addToken",value:function addToken(type){this.context.tokens.push(new ruleToken_RuleToken(type,this.context.parens.length))}},{key:"finishAtom",value:function finishAtom(index){if(this.context.atom.length>0){var type,name=this.context.atom.join(""),value=void 0;if(index-=this.context.atom.length,this.lastToken([TokenType.Hash]))type=TokenType.Label;else if(this.vocabulary.isSymbolicName(name)){type=TokenType.Operand;var symbolicIndex=this.vocabulary.symbolicIndex(name);this.vocabulary.hasKeyword(symbolicIndex)?(type=TokenType.Keyword,value=this.vocabulary.keyword(symbolicIndex)):this.vocabulary.hasOperator(symbolicIndex)&&(type=TokenType.Operator,value=this.vocabulary.operator(symbolicIndex))}else name in antlr4ts.Lexer?type=TokenType.Operator:this.vocabulary.isRuleName(name)?type=TokenType.Rule:(type=TokenType.Unknown,log_Log.warn("Unknown operator token "+name+" at "+index,"RuleTokenizer"));this.context.tokens.push(new ruleToken_RuleToken(type,this.context.parens.length,name,value)),this.context.atom.length=0}}},{key:"finishModifier",value:function finishModifier(){this.context.modifier=void 0}},{key:"unexpected",value:function unexpected(token,index){log_Log.error("Unexpected token "+token+" at "+index,"RuleTokenizer")}},{key:"clearContext",value:function clearContext(){this.context.tokens=[],this.context.parens=[],this.context.atom=[],this.context.modifier=void 0}},{key:"lastToken",value:function lastToken(filter){if(this.context.tokens.length>0){var last=this.context.tokens[this.context.tokens.length-1];if(last&&(!filter||filter.includes(last.type)))return last}}},{key:"ruleName",value:function ruleName(declaration,index){var ruleNames=this.vocabulary.getRuleNames();if(!ruleNames[index])return declaration;var rgx=new RegExp(ruleNames[index].replace(rgxEscape,"\\$&"),"g");return rgx.test(declaration)?ruleNames[index]:(log_Log.warn("Mismatched rule "+index+" name. Looking for alternatives.","RuleTokenizer"),ruleNames.forEach((function(ruleName,other){if((rgx=new RegExp(ruleName.replace(rgxEscape,"\\$&"),"g")).test(declaration))return log_Log.warn("Matched name of rule "+other+".","RuleTokenizer"),ruleName})),log_Log.error("No alternative for mismatched rule name.","RuleTokenizer"),declaration)}}],[{key:"alternatives",value:function alternatives(tokens){var pipeIndex=-1,statement=[];return tokens.reduce((function(statements,token,index,initial){return 0===token.nested&&token.type===TokenType.Pipe?(0!==(statement=initial.slice(pipeIndex+1,index)).length&&statements.push(statement),pipeIndex=index):index===initial.length-1&&0!==(statement=initial.slice(pipeIndex+1)).length&&statements.push(statement),statements}),[])}},{key:"parentheses",value:function parentheses(tokens){var parenIndex=-1,statement=[];return tokens.reduce((function(statements,token,index,initial){return 0!==token.nested||token.type!==TokenType.Lparen&&token.type!==TokenType.Rparen?index===initial.length-1&&0!==(statement=initial.slice(parenIndex+1)).length&&statements.push(statement):(0!==(statement=initial.slice(parenIndex,index+(token.type===TokenType.Rparen?1:0))).length&&statements.push(statement),parenIndex=index),statements}),[])}},{key:"unnest",value:function unnest(tokens){if(!tokens)return[];var left=tokens[0],right=tokens[tokens.length-1];return left.type===TokenType.Lparen&&right.type===TokenType.Rparen&&left.sibling===right&&(tokens.pop(),tokens.shift(),tokens.forEach((function(token){return token.nested--}))),tokens}}]),RuleTokenizer}();!function(StatementType){StatementType.Rule="r",StatementType.Block="b",StatementType.Operator="o",StatementType.Keyword="k",StatementType.Operand="d",StatementType.Unknown="u"}(StatementType||(StatementType={}));__webpack_require__(384),__webpack_require__(265);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function syntaxLink_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var syntaxLink_SyntaxLink=function(){function SyntaxLink(value){var _this=this;!function syntaxLink_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SyntaxLink),this._type=StatementType.Unknown,this._chain=[],this._keywords=[],this._value="",this._syntax="",this._alternatives=!1,this._multiplied=MultiplyMode.None,this.hasKeyword=function(){return 0!==_this._keywords.length},this.hasChain=function(){return 0!==_this._chain.length},this.hasValue=function(){return""!==_this._value},this.isEmpty=function(){return!_this.hasChain()&&!_this.hasValue()},this.isMultiplied=function(){return _this._multiplied===MultiplyMode.Optional||_this._multiplied===MultiplyMode.Onemore||_this._multiplied===MultiplyMode.Zeromore},this.isOptional=function(){return _this._multiplied===MultiplyMode.Optional||_this._multiplied===MultiplyMode.Zeromore},value&&(this._value=value)}return function syntaxLink_createClass(Constructor,protoProps,staticProps){return protoProps&&syntaxLink_defineProperties(Constructor.prototype,protoProps),staticProps&&syntaxLink_defineProperties(Constructor,staticProps),Constructor}(SyntaxLink,[{key:"add",value:function add(entry){var _this$_keywords;this._chain.push(entry),!this._alternatives&&this.hasKeyword()||(_this$_keywords=this._keywords).push.apply(_this$_keywords,_toConsumableArray(entry._keywords)),this._type=StatementType.Block,this.constructSyntax()}},{key:"addAll",value:function addAll(entries){var _this2=this;entries.forEach((function(entry){return _this2.add(entry)}))}},{key:"collapse",value:function collapse(){var _this3=this;if(this._chain=this._chain.filter((function(link){return!link.isEmpty()})),this._alternatives&&this._chain.length<2&&(this._alternatives=!1),1===this._chain.length&&this.overwrite(this._chain[0]),0!==this._chain.length){if(this._alternatives){var _this$_chain,added=[],removed=[];this._chain.forEach((function(link){link._alternatives&&(removed.push(link),link._chain.forEach((function(sublink){sublink._multiplied=mergeMultiplyMode(sublink._multiplied,link._multiplied),added.push(sublink)})))})),this._chain=this._chain.filter((function(link){return!removed.includes(link)})),(_this$_chain=this._chain).push.apply(_this$_chain,added)}else if(this._chain[0].isAlternativeKeywords()){this._alternatives=!0;var link=this._chain.shift(),chain=this._chain;this._chain=[],link&&link._chain.forEach((function(sublink){sublink._multiplied=mergeMultiplyMode(sublink._multiplied,link._multiplied);var alternative=new SyntaxLink;alternative.add(sublink),alternative.addAll(chain),alternative.collapse(),_this3._chain.push(alternative)}))}this.constructSyntax()}}},{key:"overwrite",value:function overwrite(other){this._chain=other._chain,this._keywords=other._keywords,this._alternatives=other._alternatives,this._syntax=other._syntax,this._value=other._value,this._multiplied=mergeMultiplyMode(this._multiplied,other._multiplied),this._type=other._type}},{key:"constructSyntax",value:function constructSyntax(){this.hasValue()?(this._syntax=this.multiplyPrefix()+(this.isType([StatementType.Rule,StatementType.Operand])?"⟨⟨"+this._value+"⟩⟩":this._value)+this.multiplyPostfix(),this.hasChain()&&log_Log.warn("Link with chain and value "+this._value,"SyntaxLink")):this._alternatives?this._syntax=(this.isMultiplied()?this.multiplyPrefix():"{")+this._chain.map((function(link){return link._syntax})).join(" | ")+(this.isMultiplied()?this.multiplyPostfix():"}¹"):this._syntax=(this.isMultiplied()?this.multiplyPrefix():"")+this._chain.map((function(link){return link._syntax})).join(" ")+(this.isMultiplied()?this.multiplyPostfix():"")}},{key:"multiplyPrefix",value:function multiplyPrefix(){switch(this._multiplied){case MultiplyMode.None:return"";case MultiplyMode.Optional:case MultiplyMode.Onemore:case MultiplyMode.Zeromore:return"{"}}},{key:"multiplyPostfix",value:function multiplyPostfix(){switch(this._multiplied){case MultiplyMode.None:return"";case MultiplyMode.Optional:return"}";case MultiplyMode.Onemore:return"}+";case MultiplyMode.Zeromore:return"}*"}}},{key:"contains",value:function contains(value){return this._chain.some((function(entry){return entry._value===value}))}},{key:"alternatives",get:function get(){return this._alternatives},set:function set(alternatives){this._alternatives=alternatives}},{key:"value",get:function get(){return this._value}},{key:"chain",get:function get(){return this._chain}},{key:"keyword",set:function set(value){this._value=value,this._keywords.push(this._value),this._type=StatementType.Keyword,this.constructSyntax()}},{key:"operator",set:function set(value){this._value=value,this._type=StatementType.Operator,this.constructSyntax()}},{key:"operand",set:function set(value){this._value=value.toLocaleLowerCase(),this._type=StatementType.Operand,this.constructSyntax()}},{key:"rule",set:function set(value){this._value=value,this._type=StatementType.Rule,this.constructSyntax()}},{key:"syntax",get:function get(){return this._syntax}},{key:"multiplied",get:function get(){return this._multiplied},set:function set(value){this._multiplied=value}},{key:"type",get:function get(){return this._type}},{key:"isType",value:function isType(types){return types.includes(this._type)}},{key:"isAlternativeKeywords",value:function isAlternativeKeywords(){return this._alternatives&&this.hasChain()&&this._chain.every((function(link){return link.isType([StatementType.Keyword])}))}},{key:"collectSyntax",value:function collectSyntax(keywords){keywords.createLevel(this.isOptional()),this._alternatives||this._chain.forEach((function(link){switch(link._type){case StatementType.Keyword:keywords.addKeyword(link._value,link._syntax,link._value,link.isOptional());break;case StatementType.Operator:link.isOptional()?keywords.append(link._syntax,""):keywords.append(link._syntax,link._value);break;case StatementType.Operand:case StatementType.Rule:keywords.append(link._syntax,"");break;case StatementType.Block:link.collectSyntax(keywords);break;default:log_Log.warn("Unknown syntax link type","SyntaxLink")}})),keywords.terminateLevel()}},{key:"unOption",value:function unOption(){if(this._multiplied=MultiplyMode.None,this._alternatives)this._chain.forEach((function(link){return link.unOption()}));else{var link=this._chain[0];link&&link.unOption()}}}]),SyntaxLink}();function grammarStatement_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var grammarStatement_GrammarStatement=function(){function GrammarStatement(type,tokens,name){!function grammarStatement_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,GrammarStatement),this.type=StatementType.Unknown,this._name=void 0,this._label=void 0,this._value=void 0,this.alternatives=!1,this.unresolved=!1,this.multiplied=MultiplyMode.None,this.greedy=!1,this.statements=[],this.tokens=[],this.token=void 0,this.syntax=[],this.type=type,this.tokens=tokens,name&&(this._name=name)}return function grammarStatement_createClass(Constructor,protoProps,staticProps){return protoProps&&grammarStatement_defineProperties(Constructor.prototype,protoProps),staticProps&&grammarStatement_defineProperties(Constructor,staticProps),Constructor}(GrammarStatement,[{key:"processRule",value:function processRule(){var _this=this;if(0!==this.tokens.length&&0===this.statements.length&&!this.token){var tokens=this.tokens;if(1!==tokens.length){var statements=ruleTokenizer_RuleTokenizer.alternatives(tokens);1===statements.length?this.processRuleAlternative(statements[0]):statements.length>1&&(this.alternatives=!0,statements.forEach((function(statement){return _this.addRuleAlternative(statement)})))}else this.processToken(tokens[0])}}},{key:"addRuleAlternative",value:function addRuleAlternative(tokens){if(0!==tokens.length){var statement=new GrammarStatement(StatementType.Block,tokens);this.statements.push(statement),statement.processRuleAlternative(tokens)}}},{key:"processRuleAlternative",value:function processRuleAlternative(tokens){if(0!==tokens.length)if(1!==tokens.length){var hashIndex=tokens.findIndex((function(token){return token.type===TokenType.Hash}));hashIndex>-1&&(this._label=tokens.slice(hashIndex+1).map((function(token){return token.name})).join(""),tokens=tokens.slice(0,hashIndex)),this.processElements(tokens)}else this.processToken(tokens[0])}},{key:"processElements",value:function processElements(tokens){if(0!==tokens.length)if(1!==tokens.length)for(var i=0,length=tokens.length;i<tokens.length;){var token=tokens[i];switch(token.type){case TokenType.Identifier:if(i+2<length){var assign=tokens[++i],element=tokens[++i];if(assign.isAssign()){if(element.type===TokenType.Lparen&&element.sibling){element.label(token.name);var index=tokens.indexOf(element.sibling);index>i&&(this.addBlock(tokens.slice(i,index+1)),i=index);break}if(element.isAtom()){element.label(token.name),this.addAtom(element);break}}}log_Log.error("Missing or mismatched token(s) after identifier","GrammarStatement");break;case TokenType.Lparen:if(token.sibling){var _index=tokens.indexOf(token.sibling);_index>i&&(this.addBlock(tokens.slice(i,_index+1)),i=_index)}else log_Log.error("Missing right parenthesis token","GrammarStatement");break;default:token.isAtom()?this.addAtom(token):log_Log.warn("Unexpected token "+token.name+" of type "+token.type,"GrammarStatement")}i++}else this.processToken(tokens[0])}},{key:"addAtom",value:function addAtom(token){var statement=new GrammarStatement(StatementType.Unknown,[token]);this.statements.push(statement),statement.processToken(token)}},{key:"processToken",value:function processToken(token){switch(this.token=token,this._name=token.name,this._value=token.value,this.multiply(token),token.type){case TokenType.Rule:this.type=StatementType.Rule,this._label||(this._label=token.identifier),this.unresolved=!0;break;case TokenType.Keyword:this.type=StatementType.Keyword,this._label=token.identifier,this.unresolved=!0;break;case TokenType.Operator:this.type=StatementType.Operator,this._label=token.identifier,this.unresolved=!0;break;case TokenType.Operand:this.type=StatementType.Operand,this._label=token.identifier,this.unresolved=!0;break;default:log_Log.warn("Unexpected token "+token.name+" of type "+token.type,"GrammarStatement")}}},{key:"addBlock",value:function addBlock(tokens){if(0!==tokens.length){var statement=new GrammarStatement(StatementType.Block,tokens);this.statements.push(statement),statement.processBlock(tokens)}}},{key:"processBlock",value:function processBlock(tokens){var _this2=this,left=tokens[0],right=tokens[tokens.length-1];if(left.type===TokenType.Lparen&&right.type===TokenType.Rparen&&left.sibling===right){this.multiply(right),this._label=left.identifier,tokens=ruleTokenizer_RuleTokenizer.unnest(tokens);var statements=ruleTokenizer_RuleTokenizer.alternatives(tokens);1===statements.length?this.processElements(statements[0]):statements.length>1&&(this.alternatives=!0,statements.forEach((function(statement){return _this2.addAlternative(statement)})))}else log_Log.error("Missing parenthesis tokens in block","GrammarStatement")}},{key:"addAlternative",value:function addAlternative(tokens){if(0!==tokens.length){var statement=new GrammarStatement(StatementType.Block,tokens);this.statements.push(statement),statement.processElements(tokens)}}},{key:"resolveStatements",value:function resolveStatements(rules,operators,visited){if(this.name){if(visited.has(this.name))return;visited.set(this.name,this)}this.statements.forEach((function(statement,index,statements){if(statement.unresolved&&statement.name){if(statement.isToken([TokenType.Rule])){var rule=rules.get(statement.name);rule?(rule!==statement&&(!rule.label&&statement.label&&(rule.label=statement.label),statements[index]=rule),rule.resolveStatements(rules,operators,visited)):log_Log.warn("Unknown rule in graph "+statement.name,"GrammarStatement")}else if(statement.isToken([TokenType.Keyword,TokenType.Operator,TokenType.Operand])){var operator=operators.get(statement.name);operator?operator!==statement&&(statements[index]=operator):(statement.unresolved=!1,operators.set(statement.name,statement))}}else statement.resolveStatements(rules,operators,visited)}))}},{key:"resolveSyntax",value:function resolveSyntax(keywords){var _this3=this;switch(this.type){case StatementType.Rule:var link;if(this.alternatives)this.statements.forEach((function(statement){(link=statement.constructLink(!1)).hasKeyword()&&_this3.syntax.push(link)}));else{var syntax=new syntaxLink_SyntaxLink;this.statements.forEach((function(statement){link=statement.constructLink(syntax.hasKeyword()),(syntax.hasKeyword()||link.hasKeyword())&&syntax.add(link)})),syntax.hasKeyword()&&this.syntax.push(syntax)}break;case StatementType.Keyword:var _syntax=new syntaxLink_SyntaxLink;this.value?_syntax.keyword=this.value:log_Log.warn("Keyword without value "+this.name,"GrammarStatement"),this.syntax.push(_syntax);break;case StatementType.Operator:case StatementType.Operand:break;default:log_Log.warn("Unknown statement type "+this.type,"GrammarStatement")}if(this.alternatives){var _this$syntax,added=[],removed=[];this.syntax.forEach((function(link){link.alternatives&&(removed.push(link),link.chain.forEach((function(sublink){sublink.multiplied=mergeMultiplyMode(sublink.multiplied,link.multiplied),added.push(sublink)})))})),this.syntax=this.syntax.filter((function(link){return!removed.includes(link)})),(_this$syntax=this.syntax).push.apply(_this$syntax,added)}this.syntax.forEach((function(link){link.collapse(),link.unOption(),link.collectSyntax(keywords)}))}},{key:"constructLink",value:function constructLink(keyword){var syntax=new syntaxLink_SyntaxLink;switch(syntax.multiplied=this.multiplied,this.type){case StatementType.Rule:1===this.statements.length?syntax=this.statements[0].constructLink(!1):this.name&&(syntax.rule=this.name);break;case StatementType.Block:if(1===this.statements.length){syntax=this.statements[0].constructLink(keyword);break}var link;this.alternatives?(syntax.alternatives=!0,this.statements.forEach((function(statement){link=statement.constructLink(keyword),(keyword||link.hasKeyword())&&syntax.add(link)}))):this.statements.forEach((function(statement){link=statement.constructLink(keyword||syntax.hasKeyword()),(keyword||syntax.hasKeyword()||link.hasKeyword())&&syntax.add(link)}));break;case StatementType.Keyword:this.value?syntax.keyword=this.value:log_Log.warn("Keyword without value "+this.name,"GrammarStatement");break;case StatementType.Operator:this.value?syntax.operator=this.value:log_Log.warn("Operator without value "+this.name,"GrammarStatement");break;case StatementType.Operand:this.name?syntax.operand=this.name:log_Log.warn("Operand without name","GrammarStatement");break;default:log_Log.warn("Unknown statement type "+this.type,"GrammarStatement")}return syntax.collapse(),syntax}},{key:"isOptional",value:function isOptional(){return this.multiplied===MultiplyMode.Optional||this.multiplied===MultiplyMode.Zeromore}},{key:"is",value:function is(type){return this.type===type}},{key:"name",get:function get(){return this._name}},{key:"label",get:function get(){return this._label},set:function set(label){this._label=label}},{key:"value",get:function get(){return this._value}},{key:"multiply",value:function multiply(token){this.greedy=this.greedy||token.greedy,this.multiplied!==token.multiplied&&token.multiplied!==MultiplyMode.None&&(this.multiplied=this.multiplied===MultiplyMode.None?token.multiplied:MultiplyMode.Zeromore)}},{key:"isToken",value:function isToken(types){return!!this.token&&types.includes(this.token.type)}}]),GrammarStatement}();function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=syntaxCollection_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function syntaxCollection_toConsumableArray(arr){return function syntaxCollection_arrayWithoutHoles(arr){if(Array.isArray(arr))return syntaxCollection_arrayLikeToArray(arr)}(arr)||function syntaxCollection_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||syntaxCollection_unsupportedIterableToArray(arr)||function syntaxCollection_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function syntaxCollection_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return syntaxCollection_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?syntaxCollection_arrayLikeToArray(o,minLen):void 0}}function syntaxCollection_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function syntaxCollection_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function syntaxCollection_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function syntaxCollection_createClass(Constructor,protoProps,staticProps){return protoProps&&syntaxCollection_defineProperties(Constructor.prototype,protoProps),staticProps&&syntaxCollection_defineProperties(Constructor,staticProps),Constructor}var SyntaxCollection=function(){function SyntaxCollection(){var _this=this;syntaxCollection_classCallCheck(this,SyntaxCollection),this.entries=[],this._levels=[],this.terminated=!1,this.isEmpty=function(){return 0===_this.entries.length},this.notEmpty=function(){return 0!==_this.entries.length},this.size=function(){return _this.entries.length}}return syntaxCollection_createClass(SyntaxCollection,[{key:"addAll",value:function addAll(entries){var _this$entries;(_this$entries=this.entries).push.apply(_this$entries,syntaxCollection_toConsumableArray(entries))}},{key:"createLevel",value:function createLevel(optional){var level=new SyntaxLevel(optional);return this._levels.unshift(level),level}},{key:"terminateLevel",value:function terminateLevel(){var _this$entries2,level=this._levels.shift();level&&(level.terminate(),(_this$entries2=this.entries).push.apply(_this$entries2,syntaxCollection_toConsumableArray(level.entries)))}},{key:"addKeyword",value:function addKeyword(keyword,syntax,snippet,optional){var lastLevel=this._levels[0];if(lastLevel){var _step,_iterator=_createForOfIteratorHelper(this._levels);try{for(_iterator.s();!(_step=_iterator.n()).done;){var level=_step.value;if(optional?level.append("",syntax,""):level.append(keyword,syntax,snippet),level.optional)break}}catch(err){_iterator.e(err)}finally{_iterator.f()}var entry=new syntaxCollection_SyntaxEntry(keyword);optional&&entry.terminate(),lastLevel.add(entry)}}},{key:"append",value:function append(syntax,snippet){var _step2,_iterator2=_createForOfIteratorHelper(this._levels);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var level=_step2.value;if(level.append("",syntax,snippet),level.optional)break}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}},{key:"distinct",value:function distinct(){var distinct=new Map,entries=[];this.entries.forEach((function(entry){var subentries=distinct.get(entry.keyword);subentries?subentries.some((function(subentry){return subentry.equals(entry)}))||(subentries.push(entry),entries.push(entry)):((subentries=[]).push(entry),distinct.set(entry.keyword,subentries),entries.push(entry))})),this.entries=entries}}]),SyntaxCollection}(),SyntaxLevel=function(){function SyntaxLevel(optional){syntaxCollection_classCallCheck(this,SyntaxLevel),this.entries=[],this.optional=!1,this.optional=optional}return syntaxCollection_createClass(SyntaxLevel,[{key:"add",value:function add(entry){this.entries.push(entry)}},{key:"append",value:function append(keyword,syntax,snippet){this.entries.forEach((function(entry){entry.append(keyword,syntax,snippet)}))}},{key:"terminate",value:function terminate(){this.entries.forEach((function(entry){return entry.terminate()}))}}]),SyntaxLevel}(),syntaxCollection_SyntaxEntry=function(){function SyntaxEntry(keyword){syntaxCollection_classCallCheck(this,SyntaxEntry),this._keyword=void 0,this._syntax=void 0,this._snippet=void 0,this._markdown={value:""},this._terminated=!1,this._kind=editor_main.b.CompletionItemKind.Keyword,this.round=!1,this.openRound=0,this.square=!1,this.openSquare=0,this.curly=!1,this.openCurly=0,this.angle=!1,this.openAngle=0,this._keyword=keyword,this._syntax=keyword,this._snippet=keyword}return syntaxCollection_createClass(SyntaxEntry,[{key:"terminate",value:function terminate(){this._terminated=!0}},{key:"keyword",get:function get(){return this._keyword}},{key:"syntax",get:function get(){return this._syntax}},{key:"markdown",get:function get(){return this._markdown}},{key:"snippet",get:function get(){return this._snippet}},{key:"terminated",get:function get(){return this._terminated}},{key:"append",value:function append(keyword,syntax,snippet){if(!this._terminated)switch(this._keyword===this._syntax&&""!==keyword&&(this._keyword=this._keyword+" "+keyword),syntax){case"(":this.round=!0,this.openRound++,this._syntax=this._syntax+" "+syntax,this._snippet=this._snippet+" "+snippet;break;case")":this.round&&this.openRound>0?(this.openRound--,this.round=this.openRound>0,this._syntax=this._syntax+" "+syntax,this._snippet=this._snippet+" "+snippet):this.terminate();break;case"[":this.square=!0,this.openSquare++,this._syntax=this._syntax+" "+syntax,this._snippet=this._snippet+" "+snippet;break;case"]":this.square&&this.openSquare>0?(this.openSquare--,this.square=this.openSquare>0,this._syntax=this._syntax+" "+syntax,this._snippet=this._snippet+" "+snippet):this.terminate();break;case"{":this.curly=!0,this.openCurly++,this._syntax=this._syntax+" "+syntax,this._snippet=this._snippet+" "+snippet;break;case"}":this.curly&&this.openCurly>0?(this.openCurly--,this.curly=this.openCurly>0,this._syntax=this._syntax+" "+syntax,this._snippet=this._snippet+" "+snippet):this.terminate();break;case"<":this.angle=!0,this.openAngle++,this._syntax=this._syntax+" "+syntax,this._snippet=this._snippet+" "+snippet;break;case">":this.angle&&this.openAngle>0?(this.openAngle--,this.angle=this.openAngle>0,this._syntax=this._syntax+" "+syntax,this._snippet=this._snippet+" "+snippet):this.terminate();break;default:this._syntax=this._syntax+(""!==syntax?" "+syntax:""),this._snippet=this._snippet+(""!==snippet?" "+snippet:"")}}},{key:"equals",value:function equals(entry){return this._keyword===entry._keyword&&this._syntax===entry._syntax&&this._snippet===entry._snippet&&this._terminated===entry._terminated}},{key:"completionKind",value:function completionKind(){return this._kind}}]),SyntaxEntry}();function grammarGraph_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var grammarGraph_GrammarGraph=function(){function GrammarGraph(vocabulary,grammar){!function grammarGraph_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,GrammarGraph),this.vocabulary=void 0,this.tokenizer=void 0,this.rules=new Map,this.operators=new Map,this.keywords=new SyntaxCollection,this.root=void 0,this.vocabulary=vocabulary,this.tokenizer=new ruleTokenizer_RuleTokenizer(vocabulary),grammar&&grammar.length>0&&this.processRaw(grammar)}return function grammarGraph_createClass(Constructor,protoProps,staticProps){return protoProps&&grammarGraph_defineProperties(Constructor.prototype,protoProps),staticProps&&grammarGraph_defineProperties(Constructor,staticProps),Constructor}(GrammarGraph,[{key:"processRaw",value:function processRaw(grammar){var _this=this,processed=grammar.replace(/^export default "|\/\*.*?\*\/|(\\[rnt])+|";$/g," ");this.vocabulary.getLiteralNames().forEach((function(literal,index){var symbolic=_this.vocabulary.symbolicName(index);literal&&processed.includes(literal)&&(processed=processed.replace(new RegExp(literal.replace(rgxEscape,"\\$&"),"g")," "+symbolic+" "))})),processed.split(";").filter((function(value){return value.includes(":")})).forEach((function(value,index){var colon=value.indexOf(":"),name=_this.tokenizer.ruleName(value.substr(0,colon).trim(),index),tokens=_this.tokenizer.tokenize(value.substr(++colon).trim().replace(/ +/g," "));_this.addRule(name,tokens)})),this.rules.forEach((function(rule){return rule.resolveStatements(_this.rules,_this.operators,new Map)})),this.rules.forEach((function(rule){return rule.resolveSyntax(_this.keywords)})),this.keywords.distinct();var rule0=this.vocabulary.ruleName(0);rule0&&(this.root=this.rules.get(rule0))}},{key:"addRule",value:function addRule(name,tokens){var rule=new grammarStatement_GrammarStatement(StatementType.Rule,tokens,name);return this.rules.set(name,rule),rule.processRule(),rule}},{key:"rootName",value:function rootName(){return this.root?this.root.name:void 0}},{key:"suggestions",value:function suggestions(){return this.keywords.entries.map((function(entry){return{label:entry.keyword,kind:entry.completionKind(),insertText:entry.snippet,detail:entry.syntax,documentation:""}}))}}]),GrammarGraph}();__webpack_require__(1318),__webpack_require__(201),__webpack_require__(1319),__webpack_require__(1320),__webpack_require__(1321),__webpack_require__(670);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function ParserFacade_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function ParserFacade_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function ParserFacade_createClass(Constructor,protoProps,staticProps){return protoProps&&ParserFacade_defineProperties(Constructor.prototype,protoProps),staticProps&&ParserFacade_defineProperties(Constructor,staticProps),Constructor}var ParserFacade_ConsoleErrorListener=function(){function ConsoleErrorListener(){ParserFacade_classCallCheck(this,ConsoleErrorListener)}return ParserFacade_createClass(ConsoleErrorListener,[{key:"syntaxError",value:function syntaxError(recognizer,offendingSymbol,line,column,msg){log_Log.info("ERROR "+msg,"ParserFacadeV3")}}]),ConsoleErrorListener}(),Error=function Error(startLine,endLine,startCol,endCol,message){ParserFacade_classCallCheck(this,Error),this.startLine=void 0,this.endLine=void 0,this.startCol=void 0,this.endCol=void 0,this.message=void 0,this.startLine=startLine,this.endLine=endLine,this.startCol=startCol,this.endCol=endCol,this.message=message},CollectorErrorListener=function(){function CollectorErrorListener(errors){ParserFacade_classCallCheck(this,CollectorErrorListener),this.errors=[],this.errors=errors}return ParserFacade_createClass(CollectorErrorListener,[{key:"syntaxError",value:function syntaxError(recognizer,offendingSymbol,line,column,msg){var endColumn=column+1;null!==offendingSymbol._text&&void 0!==offendingSymbol._text&&(endColumn=column+offendingSymbol._text.length),this.errors.push(new Error(line,line,column,endColumn,msg))}}]),CollectorErrorListener}(),ParserFacade_createLexer=function createLexer(Lexer){return function(input){var chars=antlr4ts.CharStreams.fromString(input);return new Lexer(chars)}},ParserFacade_createParserFromLexer=function createParserFromLexer(Parser){return function(lexer){var tokens=new antlr4ts.CommonTokenStream(lexer);return new Parser(tokens)}},ErrorStrategy=function(_DefaultErrorStrategy){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(ErrorStrategy,_DefaultErrorStrategy);var _super=_createSuper(ErrorStrategy);function ErrorStrategy(){return ParserFacade_classCallCheck(this,ErrorStrategy),_super.apply(this,arguments)}return ParserFacade_createClass(ErrorStrategy,[{key:"singleTokenDeletion",value:function singleTokenDeletion(recognizer){return _get(_getPrototypeOf(ErrorStrategy.prototype),"singleTokenDeletion",this).call(this,recognizer)}}]),ErrorStrategy}(antlr4ts.DefaultErrorStrategy);__webpack_require__(258),__webpack_require__(608),__webpack_require__(299);function vocabularyPack_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var keywordRgx=/[a-zA-Z][\w]*/,VocabularyPack=function(){function VocabularyPack(lexer,parser){var _this=this;!function vocabularyPack_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,VocabularyPack),this.ruleNames=void 0,this.symbolicNames=void 0,this.literalNames=void 0,this.operatorNames=void 0,this.keywordNames=void 0,this.ruleNames=Array.from(parser.ruleNames);var count=lexer.vocabulary.maxTokenType;this.symbolicNames=new Array(count),this.literalNames=new Array(count),this.operatorNames=new Array(count),this.keywordNames=new Array(count);var vocabulary=lexer.vocabulary;lexer.ruleNames.forEach((function(ruleName){if(ruleName in lexer){var _this$literalNames$in,_this$operatorNames$i,index=lexer[ruleName];if("number"==typeof index&&Number.isInteger(index)&&index>0&&index<=count)_this.symbolicNames[index]=ruleName,_this.literalNames[index]=vocabulary.getLiteralName(index),_this.operatorNames[index]=null===(_this$literalNames$in=_this.literalNames[index])||void 0===_this$literalNames$in?void 0:_this$literalNames$in.replace(/^'+|'+$/g,""),_this.keywordNames[index]=keywordRgx.test(null!==(_this$operatorNames$i=_this.operatorNames[index])&&void 0!==_this$operatorNames$i?_this$operatorNames$i:"")?_this.operatorNames[index]:void 0}}))}return function vocabularyPack_createClass(Constructor,protoProps,staticProps){return protoProps&&vocabularyPack_defineProperties(Constructor.prototype,protoProps),staticProps&&vocabularyPack_defineProperties(Constructor,staticProps),Constructor}(VocabularyPack,[{key:"ruleName",value:function ruleName(index){return this.ruleNames[index]}},{key:"symbolicName",value:function symbolicName(index){return this.symbolicNames[index]}},{key:"operator",value:function operator(index){return this.operatorNames[index]}},{key:"keyword",value:function keyword(index){return this.keywordNames[index]}},{key:"getLiteralNames",value:function getLiteralNames(){return this.literalNames}},{key:"getSymbolicNames",value:function getSymbolicNames(){return this.symbolicNames}},{key:"isSymbolicName",value:function isSymbolicName(name){return this.symbolicNames.includes(name)}},{key:"isRuleName",value:function isRuleName(name){return this.ruleNames.includes(name)}},{key:"symbolicIndex",value:function symbolicIndex(name){return this.symbolicNames.indexOf(name)}},{key:"hasKeyword",value:function hasKeyword(index){return!!this.keywordNames[index]}},{key:"hasOperator",value:function hasOperator(index){return!!this.operatorNames[index]}},{key:"getRuleNames",value:function getRuleNames(){return this.ruleNames}}]),VocabularyPack}();function tokensProvider_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var tokensProvider_TokensProvider=function(){function TokensProvider(tools){!function tokensProvider_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TokensProvider),this.definition=void 0;var lexer=tools.lexer,monarchDefinition=tools.monarchDefinition;this.definition=JSON.parse(JSON.stringify(monarchDefinition),rgxReviver),this.createCategories(),this.addTokens(lexer)}return function tokensProvider_createClass(Constructor,protoProps,staticProps){return protoProps&&tokensProvider_defineProperties(Constructor.prototype,protoProps),staticProps&&tokensProvider_defineProperties(Constructor,staticProps),Constructor}(TokensProvider,[{key:"createCategories",value:function createCategories(){this.createCategory("keywords"),this.createCategory("operators"),this.createCategory("specials"),this.createCategory("variables")}},{key:"createCategory",value:function createCategory(category){category in this.definition&&this.definition.keywords instanceof Array||(this.definition[category]=new Array)}},{key:"addTokens",value:function addTokens(lexer){var _this=this,vocabulary=lexer.VOCABULARY;lexer.ruleNames.forEach((function(_,index){var tokenName=vocabulary.getLiteralName(++index);tokenName&&(tokenName=tokenName.replace(/^'+|'+$/g,""),keywordRgx.test(tokenName)?_this.definition.keywords.push(tokenName):vocabulary.getSymbolicName(index)?_this.definition.specials.push(tokenName):_this.definition.operators.push(tokenName))}))}},{key:"monarchLanguage",value:function monarchLanguage(){return this.definition}},{key:"addVariables",value:function addVariables(){this.definition.variables.push("ds_L_CY","ErrB","ds_V_PY")}}]),TokensProvider}(),rgxRgx=/\/(.*)\/(.*)?/;function rgxReviver(_,value){var strValue=value.toString();if(0===strValue.indexOf("_RGX_")){var matchArray=strValue.split("_RGX_")[1].match(rgxRgx);return new RegExp(matchArray[1],matchArray[2]||"")}return value}editor_main.b.CompletionItemKind.Function;var VARIABLE=editor_main.b.CompletionItemKind.Variable;editor_main.b.CompletionItemKind.Keyword,editor_main.b.CompletionItemKind.Snippet,editor_main.b.CompletionItemInsertTextRule.InsertAsSnippet;function providers_toConsumableArray(arr){return function providers_arrayWithoutHoles(arr){if(Array.isArray(arr))return providers_arrayLikeToArray(arr)}(arr)||function providers_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function providers_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return providers_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return providers_arrayLikeToArray(o,minLen)}(arr)||function providers_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function providers_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var providers_getEditorWillMount=function getEditorWillMount(tools){return function(variables){var tokensProvider=new tokensProvider_TokensProvider(tools),id=tools.id;return function(monaco){monaco.languages.register({id:id}),monaco.languages.setMonarchTokensProvider(id,tokensProvider.monarchLanguage()),monaco.editor.defineTheme(id.replace(".","-"),{base:"vs",inherit:!0,rules:[{token:"string",foreground:"018B03"},{token:"comment",foreground:"939393"},{token:"operator",foreground:"8B3301"},{token:"delimiter.bracket",foreground:"8B3301"},{token:"operator.special",foreground:"8B3301",fontStyle:"bold"}],colors:{}}),monaco.languages.setLanguageConfiguration(id,{surroundingPairs:[{open:"{",close:"}"},{open:"(",close:")"},{open:"[",close:"]"}],autoClosingPairs:[{open:"{",close:"}"},{open:"(",close:")"},{open:"[",close:"]"}],brackets:[["{","}"],["(",")"],["[","]"]]}),monaco.languages.registerCompletionItemProvider(id,{provideCompletionItems:providers_getSuggestions(tools,monaco,variables)})}}},providers_buildGrammarGraph=function buildGrammarGraph(tools){var Lexer=tools.lexer,Parser=tools.parser,grammar=tools.grammar,lexer=ParserFacade_createLexer(Lexer)(""),parser=function createParser(_ref){var Lexer=_ref.Lexer,Parser=_ref.Parser;return function(input){var lexer=ParserFacade_createLexer(Lexer)(input);return ParserFacade_createParserFromLexer(Parser)(lexer)}}({Lexer:Lexer,Parser:Parser})(""),vocabulary=new VocabularyPack(lexer,parser);return new grammarGraph_GrammarGraph(vocabulary,grammar)},providers_getSuggestions=function getSuggestions(tools,monaco,variables){return function(model,position){var textUntilPosition=model.getValueInRange({startLineNumber:1,startColumn:1,endLineNumber:position.lineNumber,endColumn:position.column}),word=model.getWordUntilPosition(position),range={startLineNumber:position.lineNumber,endLineNumber:position.lineNumber,startColumn:word.startColumn,endColumn:word.endColumn},uniquetext=Array.from(new Set(textUntilPosition.replace(/"(.*?)"/g,"").replace(/[^a-zA-Z_]/g," ").split(" ").filter((function(w){return""!==w}))).values());providers_buildGrammarGraph(tools);var grammarSuggestions=(0,tools.getSuggestionsFromRange)(range),suggestionList=0!==grammarSuggestions.length?grammarSuggestions:providers_buildGrammarGraph(tools).suggestions(),array=(uniquetext=function removeLanguageSyntaxFromList(vars,suggestionList){var suggestionsLabels=suggestionList.map((function(s){return s.label.toLowerCase()}));return vars.filter((function(t){return!suggestionsLabels.includes(t.toLowerCase())}))}(uniquetext,suggestionList)).map((function(w){return{label:w,kind:monaco.languages.CompletionItemKind.Variable,insertText:w}})),vars=variables.map((function(_ref){var label=_ref.label,name=_ref.name;return{label:label,kind:VARIABLE,insertText:name,range:range}}));return{suggestions:[].concat(providers_toConsumableArray(suggestionList),providers_toConsumableArray(array),providers_toConsumableArray(vars))}}},jsx_runtime=(__webpack_require__(1322),__webpack_require__(254));function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=arr&&("undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"]);if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||component_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function component_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return component_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?component_arrayLikeToArray(o,minLen):void 0}}function component_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var errors={value:""},component_Editor=function Editor(_ref){var _ref$resizeLayout=_ref.resizeLayout,resizeLayout=void 0===_ref$resizeLayout?[!1,!0,100]:_ref$resizeLayout,script=_ref.script,setScript=_ref.setScript,setScriptChanged=_ref.setScriptChanged,theme=_ref.theme,setCursorPosition=_ref.setCursorPosition,tempCursor=_ref.tempCursor,setErrors=_ref.setErrors,suggesterURL=_ref.suggesterURL,tools=_ref.tools,_useState2=_slicedToArray(Object(react.useState)([]),2),vars=_useState2[0],setVars=_useState2[1],_useState4=_slicedToArray(Object(react.useState)(!1),2),ready=_useState4[0],setReady=_useState4[1],monacoRef=Object(react.useRef)(null);Object(react.useEffect)((function(){monacoRef&&monacoRef.current&&monacoRef.current.editor.layout()}),[resizeLayout]),Object(react.useEffect)((function(){monacoRef&&monacoRef.current&&(monacoRef.current.editor.focus(),monacoRef.current.editor.setPosition(new editor_api.Position(tempCursor.lineNumber,tempCursor.column)))}),[tempCursor]),Object(react.useEffect)((function(){Array.isArray(suggesterURL)&&0!==suggesterURL.length?fetch(suggesterURL[0]).then((function(res){return res.json()})).then((function(res){return res.dataStructure.map((function(r){return Object.assign({},r,{label:"".concat(r.name.toUpperCase()," (").concat(r.type,")")})}))})).then((function(res){setVars(res)})).then((function(){setReady(!0)})).catch((function(){setReady(!0)})):setReady(!0)}),[suggesterURL]);var didMount=function didMount(editor,monaco,customTools){var to,onDidChange=function onDidChange(){var _step,syntaxErrors=function validate(_ref2){var Lexer=_ref2.lexer,Parser=_ref2.parser,initialRule=_ref2.initialRule;return function(input){var errors=[],lexer=ParserFacade_createLexer(Lexer)(input);lexer.removeErrorListeners(),lexer.addErrorListener(new ParserFacade_ConsoleErrorListener);var parser=ParserFacade_createParserFromLexer(Parser)(lexer);return parser.removeErrorListeners(),parser.addErrorListener(new CollectorErrorListener(errors)),parser._errHandler=new ErrorStrategy,parser[initialRule](),errors}}({lexer:customTools.lexer,parser:customTools.parser,initialRule:customTools.initialRule})(editor.getValue()),monacoErrors=[],_iterator=function component_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=component_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e3){function e(_x){return _e3.apply(this,arguments)}return e.toString=function(){return _e3.toString()},e}((function(e){throw e})),f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function(_e4){function e(_x2){return _e4.apply(this,arguments)}return e.toString=function(){return _e4.toString()},e}((function(e){didErr=!0,err=e})),f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(syntaxErrors);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _e2=_step.value;monacoErrors.push({startLineNumber:_e2.startLine,startColumn:_e2.startCol,endLineNumber:_e2.endLine,endColumn:_e2.endCol,message:_e2.message,severity:monaco.MarkerSeverity.Error})}}catch(err){_iterator.e(err)}finally{_iterator.f()}var errorsString=monacoErrors.map((function(e){return e.message})).reduce((function(e1,e2){return e1+", "+e2}),"");errorsString!==errors.value&&(setErrors(monacoErrors),errors={value:errorsString}),window.syntaxErrors=syntaxErrors;var model=monaco.editor.getModels()[0];monaco.editor.setModelMarkers(model,"owner",monacoErrors)};editor.onDidChangeModelContent((function(){return to&&clearTimeout(to),function onDidChangeTimout(){to=setTimeout((function(){return onDidChange()}),2e3)}()})),editor.onDidChangeCursorPosition((function(e){return setCursorPosition(e.position)}))};return ready?Object(jsx_runtime.jsx)("div",{className:"editor-container",children:Object(jsx_runtime.jsx)(lib.a,{ref:monacoRef,editorWillMount:providers_getEditorWillMount(tools)(vars),editorDidMount:function editorDidMount(e,m){return didMount(e,m,tools)},height:"100%",language:tools.id,theme:theme,defaultValue:"",options:{minimap:{enabled:!0},automaticLayout:!0},value:script,onChange:function onChange(newValue){setScript(newValue),setScriptChanged(!0)}})}):null};component_Editor.displayName="Editor";var editor_component=component_Editor;try{component.displayName="component",component.__docgenInfo={description:"",displayName:"component",props:{resizeLayout:{defaultValue:{value:"[false, true, 100]"},description:"",name:"resizeLayout",required:!1,type:{name:"any[]"}},script:{defaultValue:null,description:"",name:"script",required:!0,type:{name:"string"}},setScript:{defaultValue:null,description:"",name:"setScript",required:!0,type:{name:"(value: string) => void"}},setScriptChanged:{defaultValue:null,description:"",name:"setScriptChanged",required:!0,type:{name:"(value: boolean) => void"}},theme:{defaultValue:null,description:"",name:"theme",required:!0,type:{name:"string"}},setCursorPosition:{defaultValue:null,description:"",name:"setCursorPosition",required:!0,type:{name:"(e: Position) => void"}},tempCursor:{defaultValue:null,description:"",name:"tempCursor",required:!0,type:{name:"Position"}},setErrors:{defaultValue:null,description:"",name:"setErrors",required:!0,type:{name:"(array: IMarkerData[]) => void"}},suggesterURL:{defaultValue:null,description:"",name:"suggesterURL",required:!0,type:{name:"string[]"}},tools:{defaultValue:null,description:"",name:"tools",required:!0,type:{name:"any"}},languageVersion:{defaultValue:null,description:"",name:"languageVersion",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/editor/editor/component.tsx#component"]={docgenInfo:component.__docgenInfo,name:"component",path:"src/editor/editor/component.tsx#component"})}catch(__react_docgen_typescript_loader_error){}var monarch=__webpack_require__(728),suggestions_getSuggestionsFromRange=function getSuggestionsFromRange(){return[]};function AntlrEditor_slicedToArray(arr,i){return function AntlrEditor_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function AntlrEditor_iterableToArrayLimit(arr,i){var _i=arr&&("undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"]);if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function AntlrEditor_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return AntlrEditor_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AntlrEditor_arrayLikeToArray(o,minLen)}(arr,i)||function AntlrEditor_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AntlrEditor_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function AntlrEditor(props){var script=props.script,setScript=props.setScript,_props$setScriptChang=props.setScriptChanged,setScriptChanged=void 0===_props$setScriptChang?function(){return!1}:_props$setScriptChang,_props$theme=props.theme,theme=void 0===_props$theme?"vs-dark":_props$theme,languageVersion=props.languageVersion,setErrors=props.setErrors,suggesterURL=props.suggesterURL,tools=props.tools,setCursorPosition=Object(react.useState)(new editor_main.a(0,0))[1],tempCursor=AntlrEditor_slicedToArray(Object(react.useState)(new editor_main.a(0,0)),1)[0],_tools$id=tools.id,id=void 0===_tools$id?"default-id":_tools$id,lexer=tools.Lexer,parser=tools.Parser,grammar=tools.grammar,initialRule=tools.initialRule,fullTools={id:id,monarchDefinition:monarch,lexer:lexer,parser:parser,grammar:grammar,initialRule:initialRule,getSuggestionsFromRange:suggestions_getSuggestionsFromRange};return Object(jsx_runtime.jsx)(editor_component,{tools:fullTools,resizeLayout:[!1,!0,100],script:script,setScript:setScript,setScriptChanged:setScriptChanged,theme:theme,languageVersion:languageVersion,setCursorPosition:setCursorPosition,tempCursor:tempCursor,setErrors:setErrors,suggesterURL:suggesterURL})}AntlrEditor.displayName="AntlrEditor";try{AntlrEditor.displayName="AntlrEditor",AntlrEditor.__docgenInfo={description:"",displayName:"AntlrEditor",props:{script:{defaultValue:null,description:"",name:"script",required:!0,type:{name:"string"}},setScript:{defaultValue:null,description:"",name:"setScript",required:!0,type:{name:"(value: string) => void"}},setScriptChanged:{defaultValue:null,description:"",name:"setScriptChanged",required:!1,type:{name:"((value: boolean) => void)"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"string"}},languageVersion:{defaultValue:null,description:"",name:"languageVersion",required:!0,type:{name:"string"}},setErrors:{defaultValue:null,description:"",name:"setErrors",required:!0,type:{name:"(array: IMarkerData[]) => void"}},suggesterURL:{defaultValue:null,description:"",name:"suggesterURL",required:!0,type:{name:"string[]"}},tools:{defaultValue:null,description:"",name:"tools",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/editor/AntlrEditor.tsx#AntlrEditor"]={docgenInfo:AntlrEditor.__docgenInfo,name:"AntlrEditor",path:"src/editor/AntlrEditor.tsx#AntlrEditor"})}catch(__react_docgen_typescript_loader_error){}function Editor_slicedToArray(arr,i){return function Editor_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Editor_iterableToArrayLimit(arr,i){var _i=arr&&("undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"]);if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function Editor_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Editor_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Editor_arrayLikeToArray(o,minLen)}(arr,i)||function Editor_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Editor_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var Editor_EditorForStory=function EditorForStory(_ref){var initialScript=_ref.initialScript,tools=_ref.tools,_useState2=Editor_slicedToArray(Object(react.useState)(initialScript),2),script=_useState2[0],setScript=_useState2[1];return Object(jsx_runtime.jsx)(AntlrEditor,{script:script,setScript:setScript,languageVersion:"",setErrors:function setErrors(){return null},suggesterURL:[],tools:tools})};Editor_EditorForStory.displayName="EditorForStory";try{Editor_EditorForStory.displayName="EditorForStory",Editor_EditorForStory.__docgenInfo={description:"Primary UI component for user interaction",displayName:"EditorForStory",props:{initialScript:{defaultValue:null,description:"",name:"initialScript",required:!0,type:{name:"string"}},tools:{defaultValue:null,description:"",name:"tools",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/Editor.tsx#EditorForStory"]={docgenInfo:Editor_EditorForStory.__docgenInfo,name:"EditorForStory",path:"src/stories/Editor.tsx#EditorForStory"})}catch(__react_docgen_typescript_loader_error){}var vtl_2_0_antlr_tools_ts_lib=__webpack_require__(729),json_antlr_tools_ts_lib=__webpack_require__(730),Editor_stories_Template=(__webpack_exports__.default={title:"Editor",component:Editor_EditorForStory,argTypes:{tools:{table:{disable:!0}}}},function Template(args){return Object(jsx_runtime.jsx)(Editor_EditorForStory,Object.assign({},args))});Editor_stories_Template.displayName="Template";var VTL20=Editor_stories_Template.bind({});VTL20.args={initialScript:"a := 1 + 2;",tools:vtl_2_0_antlr_tools_ts_lib};var Editor_stories_JSON=Editor_stories_Template.bind({});Editor_stories_JSON.args={initialScript:'{"key": "value"}',tools:json_antlr_tools_ts_lib},VTL20.parameters=Object.assign({storySource:{source:"args => <EditorForStory {...args} />"}},VTL20.parameters),Editor_stories_JSON.parameters=Object.assign({storySource:{source:"args => <EditorForStory {...args} />"}},Editor_stories_JSON.parameters)},1339:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"parameters",(function(){return parameters}));__webpack_require__(67),__webpack_require__(101),__webpack_require__(129),__webpack_require__(670),__webpack_require__(99),__webpack_require__(100),__webpack_require__(1104),__webpack_require__(1105),__webpack_require__(216);var client_api=__webpack_require__(1344),esm=__webpack_require__(35),parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.a.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(client_api.b)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(client_api.c)(loader,!1)}));case"parameters":return Object(client_api.d)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(client_api.a)(enhancer)}));case"globals":case"globalTypes":var v={};return v[key]=value,Object(client_api.d)(v,!1);default:return console.log(key+" was not supported :( !")}}))},728:function(module){module.exports=JSON.parse('{"defaultToken":"invalid","tokenPostfix":".vtl","keywords":[],"typeKeywords":[],"operators":[],"specials":[],"variables":[],"symbols":"_RGX_/[=><!~?:&|+\\\\-*\\\\/\\\\^%]+/","escapes":"_RGX_/\\\\\\\\(?:[abfnrtv\\\\\\\\\\"\']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/","digits":"_RGX_/\\\\d+(_+\\\\d+)*/","octaldigits":"_RGX_/[0-7]+(_+[0-7]+)*/","binarydigits":"_RGX_/[0-1]+(_+[0-1]+)*/","hexdigits":"_RGX_/[[0-9a-fA-F]+(_+[0-9a-fA-F]+)*/","regexpctl":"_RGX_/[(){}\\\\[\\\\]\\\\$\\\\^|\\\\-*+?\\\\.]/","regexpesc":"_RGX_/\\\\\\\\(?:[bBdDfnrstvwWn0\\\\\\\\\\\\/]|@regexpctl|c[A-Z]|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4})/","tokenizer":{"root":[["_RGX_/[{}]/","delimiter.bracket"],{"include":"common"}],"common":[["_RGX_/[a-z_$][\\\\w$]*/",{"cases":{"@typeKeywords":"keyword","@keywords":"keyword","@variables":"variable","@default":"identifier"}}],["_RGX_/[A-Z][\\\\w\\\\$]*/",{"cases":{"@typeKeywords":"keyword","@keywords":"keyword","@variables":"variable","@default":"identifier"}}],{"include":"@whitespace"},["_RGX_/\\\\/(?=([^\\\\\\\\\\\\/]|\\\\\\\\.)+\\\\/([gimsuy]*)(\\\\s*)(\\\\.|;|\\\\/|,|\\\\)|\\\\]|\\\\}|$))/",{"token":"regexp","bracket":"@open","next":"@regexp"}],["_RGX_/[()\\\\[\\\\]]/","delimiter.bracket"],["_RGX_/[<>](?!@symbols)/","delimiter.bracket"],["_RGX_/@symbols/",{"cases":{"@operators":"operator","@specials":"operator.special","@default":""}}],["_RGX_/(@digits)[eE]([\\\\-+]?(@digits))?/","number.float"],["_RGX_/(@digits)\\\\.(@digits)([eE][\\\\-+]?(@digits))?/","number.float"],["_RGX_/0[xX](@hexdigits)/","number.hex"],["_RGX_/0[oO]?(@octaldigits)/","number.octal"],["_RGX_/0[bB](@binarydigits)/","number.binary"],["_RGX_/(@digits)/","number"],["_RGX_/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*$/","string.invalid"],["_RGX_/\'([^\'\\\\\\\\]|\\\\\\\\.)*$/","string.invalid"],["_RGX_/\\"/","string","@string_double"],["_RGX_/\'/","string","@string_single"],["_RGX_/`/","string","@string_backtick"]],"whitespace":[["_RGX_/[ \\\\t\\\\r\\\\n]+/",""],["_RGX_/\\\\/\\\\*\\\\*(?!\\\\/)/","comment.doc","@jsdoc"],["_RGX_/\\\\/\\\\*/","comment","@comment"],["_RGX_/\\\\/\\\\/.*$/","comment"]],"comment":[["_RGX_/[^\\\\/*]+/","comment"],["_RGX_/\\\\*\\\\//","comment","@pop"],["_RGX_/[\\\\/*]/","comment"]],"jsdoc":[["_RGX_/[^\\\\/*]+/","comment.doc"],["_RGX_/\\\\*\\\\//","comment.doc","@pop"],["_RGX_/[\\\\/*]/","comment.doc"]],"regexp":[["_RGX_/(\\\\{)(\\\\d+(?:,\\\\d*)?)(\\\\})/",["regexp.escape.control","regexp.escape.control","regexp.escape.control"]],["_RGX_/(\\\\[)(\\\\^?)(?=(?:[^\\\\]\\\\\\\\\\\\/]|\\\\\\\\.)+)/",["regexp.escape.control",{"token":"regexp.escape.control","next":"@regexrange"}]],["_RGX_/(\\\\()(\\\\?:|\\\\?=|\\\\?!)/",["regexp.escape.control","regexp.escape.control"]],["_RGX_/[()]/","regexp.escape.control"],["_RGX_/@regexpctl/","regexp.escape.control"],["_RGX_/[^\\\\\\\\\\\\/]/","regexp"],["_RGX_/@regexpesc/","regexp.escape"],["_RGX_/\\\\\\\\\\\\./","regexp.invalid"],["_RGX_/(\\\\/)([gimsuy]*)/",[{"token":"regexp","bracket":"@close","next":"@pop"},"keyword.other"]]],"regexrange":[["_RGX_/-/","regexp.escape.control"],["_RGX_/\\\\^/","regexp.invalid"],["_RGX_/@regexpesc/","regexp.escape"],["_RGX_/[^\\\\]]/","regexp"],["_RGX_/\\\\]/",{"token":"regexp.escape.control","next":"@pop","bracket":"@close"}]],"string_double":[["_RGX_/[^\\\\\\\\\\"]+/","string"],["_RGX_/@escapes/","string.escape"],["_RGX_/\\\\\\\\./","string.escape.invalid"],["_RGX_/\\"/","string","@pop"]],"string_single":[["_RGX_/[^\\\\\\\\\']+/","string"],["_RGX_/@escapes/","string.escape"],["_RGX_/\\\\\\\\./","string.escape.invalid"],["_RGX_/\'/","string","@pop"]],"string_backtick":[["_RGX_/\\\\$\\\\{/",{"token":"delimiter.bracket","next":"@bracketCounting"}],["_RGX_/[^\\\\\\\\`$]+/","string"],["_RGX_/@escapes/","string.escape"],["_RGX_/\\\\\\\\./","string.escape.invalid"],["_RGX_/`/","string","@pop"]],"bracketCounting":[["_RGX_/\\\\{/","delimiter.bracket","@bracketCounting"],["_RGX_/\\\\}/","delimiter.bracket","@pop"],{"include":"common"}]}}')},751:function(module,exports,__webpack_require__){__webpack_require__(752),__webpack_require__(908),__webpack_require__(909),__webpack_require__(1331),__webpack_require__(1332),__webpack_require__(1336),__webpack_require__(1337),__webpack_require__(1335),__webpack_require__(1334),__webpack_require__(1338),__webpack_require__(1339),module.exports=__webpack_require__(1106)},819:function(module,exports){},909:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(583)}},[[751,4,5]]]);